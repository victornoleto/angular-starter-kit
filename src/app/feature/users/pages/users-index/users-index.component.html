<div id="users-index-page" class="page">
    <div class="d-flex align-items-end mb-3">
        <div class="d-flex flex-column">
            <h3 class="fw-bold mb-1">Usu치rios</h3>
            <p class="text-muted m-0">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae,
                et!
            </p>
        </div>

        <div class="d-flex gap-3 ms-auto">
            <a [routerLink]="['/users/create']" class="btn btn-primary"
                >Novo Usu치rio</a
            >
        </div>
    </div>

    <div class="card">
        <div class="card-body">

            <pre>{{ filters() | json }}</pre>
            <pre>{{ users.status() }}</pre>
            <pre>{{ users.error() }}</pre>

            <pre>Pagination Status {{ pagination() | json }}</pre>
            <pre>Search Status {{ filters() | json }}</pre>
            
            <input type="search" [(ngModel)]="search" class="form-control mb-3" placeholder="Pesquisar usu치rios" />
            <pre>users-index.component search: {{ search() }}</pre>

            <app-users-table
                [users]="users"
                [sort]="sort()"
                [pagination]="pagination()"
                [search]="search()"
                ></app-users-table>

            <app-pagination
                [collection]="users.value()"
                [pagination]="pagination()"
            ></app-pagination>
            <!-- [isLoading]="isLoading()"
            (pageChange)="onPageChange($event)"
            (perPageChange)="onPerPageChange($event)"
            (sortChange)="onSortChange($event)"
            (deleteConfirmed)="onDeleteConfirmed($event)" -->
            
            <!-- <app-users-filters
                (onChange)="onFiltersChange()"
            ></app-users-filters>
            @if (error()) {
                <app-page-message
                    icon="游뚿"
                    message="N칚o foi poss칤vel carregar os usu치rios"
                    [details]="error() ?? ''"
                ></app-page-message>
            } @else {
            } -->
        </div>
    </div>
</div>
